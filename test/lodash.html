<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>lodash</title>
  </head>
  <body></body>
  <script src="../node_modules/lodash/lodash.min.js"></script>
  <script></script>
  <span class="hightlight-lqmrubw0dh">
    [
    <span id="1" data-id="1" class="selection-mark-important">
      t
      <span id="2" data-id="2" class="selection-mark-important">
        es
      </span>
    </span>
    t]
    <span id="3" data-id="3" class="selection-mark-important">
      åˆ†è¯
    </span>
    diff23
  </span>

  <span class="hightlight-lqmrubw0dh"
    >[<span id="1" data-id="1" class="selection-mark-important"
      >t<span id="2" data-id="2" class="selection-mark-important"
        >es</span
      ></span
    >t]<span id="3" data-id="3" class="selection-mark-important">
      åˆ†<span id="13" data-id="13" class="selection-mark-important">è¯</span
      >di</span
    >ff23</span
  >
</html>

> çªç„¶æœ‰ä¸€ä¸ªæµ·å¤–ç”¨æˆ·åé¦ˆé—®é¢˜ï¼Œè¯´æœ‰ä¸€ä¸ªé¡µé¢ç‚¹å‡»æ–°å¢æŒ‰é’®å°±ç™½å±ã€‚å¯¹æ–¹ä¸ä¼šè¯´ä¸­æ–‡ï¼Œæ‰€ä»¥å…¨ç¨‹è‹±æ–‡äº¤æµï¼Œç”¨ä¸Šäº†æˆ‘æŠ è„šçš„6çº§å“‘å·´è‹±è¯­ï¼Œæ²Ÿé€šè¿‡ç¨‹ç¨å¾®éº»çƒ¦ä¸€ç‚¹ã€‚ä¸€å¼€å§‹å¬åˆ°ç™½å±ï¼Œå¿ƒé‡Œè¿˜æ˜¯æ¯«æ— æ³¢åŠ¨çš„ï¼Œè¿™ç§é—®é¢˜å‘¢ï¼Œæ— éå°±æ˜¯æŸä¸ªæ¥å£æ•°æ®è¿”å›ä¸å¤ªç§‘å­¦ï¼Œç„¶åå‰ç«¯æ²¡æœ‰å®¹é”™ã€‚åªéœ€è¦çœ‹è§æŠ¥é”™ä¿¡æ¯å¿…ç„¶å¯ä»¥ç§’è§£å†³


# è®©ç”¨æˆ·æ‰“å¼€æ§åˆ¶å°
å…ˆè®©ç”¨æˆ·åˆ·æ–°å†å¤ç°ä¸€éï¼Œä¿æŒä¸€ç›´æ‰“å¼€consoleçš„çŠ¶æ€ä¸‹æ“ä½œã€‚å†æ‰‹æŠŠæ‰‹æˆªå›¾æŒ‡å¯¼ï¼Œå¦‚ä½•æ‰“å¼€consoleåˆ‡åˆ°å“ªä¸ªé¢æ¿ï¼Œå†è®©å¯¹æ–¹æˆªå›¾ï¼Œç»“æœæ˜¯è¿™æ ·çš„æŠ¥é”™ï¼š
![](//tosv.byted.org/obj/tech/images/1591200731554_a5f294eb1e6559b51b1faf6699de70fc.png)


è¿™ä¸ªå°±çªç„¶è®©æˆ‘æœ‰ç‚¹æ‡µé€¼äº†ï¼Œç«Ÿç„¶ä¸æ˜¯ `cannot read property xx of undefined` è¿™ç§æŠ¥é”™ã€‚ç»†çœ‹ä¸€ä¸‹ï¼Œæ˜¯reactæºç çš„æŠ¥é”™ï¼šdispatchåsetstateã€è§¦å‘æ‰¹é‡æ›´æ–°ã€æ‰§è¡Œè°ƒåº¦ã€‚ä¼°è®¡æ˜¯ä¸­é€”æœ‰å…¶ä»–æ“ä½œæŠŠdomèŠ‚ç‚¹æ”¹äº†ï¼Œreactç¬é—´æ‡µé€¼ã€‚å³ä½¿çŸ¥é“å¤§æ¦‚æ˜¯è¿™æ ·ï¼Œä½†æ€ä¹ˆæ’æŸ¥å‘¢?é‚£å°±å…ˆç›´æ¥æ¥ææ¥å£æ•°æ®ï¼Œæ”¾æœ¬åœ°è·‘ä¸€ä¸‹çœ‹çœ‹èƒ½ä¸èƒ½å¤ç°å§

# å¼•å¯¼ç”¨æˆ·å‘responseè¿‡æ¥
ç»è¿‡ä¸€ç•ªæŠ è„šè‹±è¯­äº¤æµå’Œæ­¥éª¤æˆªå›¾ï¼Œç»ˆäºè®©ç”¨æˆ·æŠŠç›¸å…³æ¥å£çš„è¿”å›æ•°æ®éƒ½å‘è¿‡æ¥äº†ã€‚æ‹¿åˆ°äº†æ•°æ®ï¼Œé‚£å°±åˆ°æˆ‘è¡¨æ¼”äº†ã€‚æˆ‘æœ¬åœ°å¼€å§‹è·‘devï¼Œå†æŠŠè¿™äº›æ¥å£å…¨éƒ¨ä»£ç†åˆ°åˆšåˆšæ‹¿åˆ°çš„æ•°æ®ä¸Š

> ç»“æœï¼Œå±…ç„¶æ­£å¸¸è¿è¡Œï¼Œä¸€åˆ‡é—®é¢˜éƒ½æ²¡æœ‰å‘ç”Ÿ

æ¥ç€æˆ‘å°è¯•çœ‹çœ‹å¯¹æ–¹çš„å½•å±ï¼Œç»“æœå‘ç°ä¹Ÿæ²¡ä»€ä¹ˆé”™è¯¯æ“ä½œï¼Œå”¯ç‹¬å°±æ˜¯ç‚¹ä¸€ä¸‹æŒ‰é’®ï¼Œå°±æŠ¥é”™äº†ï¼Œè€Œä¸”è¿˜æ˜¯åŒæ ·çš„reactæºç å†…éƒ¨çš„æŠ¥é”™ï¼Œæ¥å£éƒ½æ­£å¸¸ã€‚æœ€åï¼Œå†³å®šè®©ç”¨æˆ·æ‰«æˆ‘ç”µè„‘çš„ç ï¼Œåœ¨æˆ‘ç”µè„‘ç™»å½•è´¦å·


ç™»ä¸Šäº†åˆ«äººçš„å·(åˆ«äººèƒ½æŠŠå·ç›´æ¥äº¤å‡ºæ¥ï¼Œä¹Ÿæ˜¯ä¸€ç§ä¿¡ä»»ï¼Œè¿™é‡Œå¿…é¡»æ„Ÿè°¢ç”¨æˆ·çš„ä¿¡ä»»ğŸ™)ï¼Œå¼€å§‹ä¸€é¡¿æ“ä½œï¼Œæ¥åˆ°åŒæ ·çš„é¡µé¢ï¼Œç‚¹ä¸€ä¸‹æŒ‰é’®ï¼Œç»“æœåˆæ­£å¸¸ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿ......å°æœ‹å‹ï¼Œä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®å·

![](//tosv.byted.org/obj/tech/images/1591203367322_243e9aab2ec045e6059787f47dcec07b.png)

# è¿œç¨‹æ¡Œé¢
å®åœ¨æ²¡åŠæ³•äº†ï¼Œæˆ‘ç›´æ¥è§†é¢‘é€šè¯æ‰“è¿‡å»å¹¶è¦æ±‚æ§åˆ¶ç”µè„‘ã€‚æ‰“é€šäº†ï¼Œå¼€å§‹å…¨ç¨‹å£è¯­äº¤æµï¼ŒæŠ è„šçš„è‹±è¯­å£è¯­æ°´å¹³åªèƒ½æ…¢æ…¢çš„è®²ï¼Œä¼°è®¡å¯¹æ–¹å‹‰å¼ºå¬å¾—æ‡‚å§ã€‚æ¥ç€æˆ‘ä¹Ÿæ²¡é‚£ä¹ˆæ…Œå¼ äº†ã€‚æˆ‘é‡å¤äº†ä¹‹å‰çš„æ“ä½œï¼Œæœç„¶åˆå‡ºç°äº†ï¼Œæ¥åˆ°åŒæ ·çš„é¡µé¢ï¼Œç‚¹äº†æŒ‰é’®ï¼Œé©¬ä¸ŠæŠ¥é”™äº†ã€‚æˆ‘çœ‹äº†ä¸€ä¸‹æ§åˆ¶å°ï¼ŒæŠ¥é”™åªæœ‰reactæºç æŠ¥é”™ï¼Œä»¥åŠé¡µé¢åŠ è½½å®Œæˆçš„æ—¶å€™çš„sentryå› ä¸ºè·¨åŸŸåŠ è½½å¤±è´¥ã€‚


äºæ˜¯å¼€å§‹æ‰“æ–­ç‚¹ï¼Œéšä¾¿æ“ä½œäº†å‡ ä¸‹ï¼Œå±…ç„¶è‡ªå·±å¥½äº†ï¼ï¼Ÿï¼Ÿ


åé¢åˆ·æ–°é¡µé¢ï¼Œå…¨éƒ½è‡ªç„¶å¥½äº†........

å¿ƒç´¯ï¼Œæš‚æ—¶ä¸ç®¡é‚£ä¹ˆå¤šäº†ï¼Œæ²¡äº‹å°±å¥½äº†å§ï¼Œäº‹æƒ…å°±æ­¤ä¸ºæ­¢ã€‚

> "looks fine for now. Thank you so much!"

# äº‹æƒ…å†æ¬¡å‡ºç°
è¿‡äº†å‡ å¤©ï¼Œåœ¨æ„‰å¿«åœ°å†™éœ€æ±‚çš„æ—¶å€™ï¼Œçªç„¶è¢«æœºå™¨äººæ‹‰ç¾¤ï¼Œè¿˜æ˜¯åŒæ ·çš„äººï¼Œè¿˜æ˜¯åŒæ ·çš„é—®é¢˜ï¼Œåªæ˜¯ä¸åŒçš„é¡µé¢é“¾æ¥äº†ã€‚å…ˆåˆ«æ€¥ç€åŠ¨æ‰‹ï¼Œæ‹ä¸€ä¸‹æ€è·¯ï¼š
- reactæºç æŠ¥é”™ï¼Œå¿…ç„¶æ˜¯æœ‰reactä¹‹å¤–çš„åŸç”Ÿdomæ“ä½œ
- ç¡®è®¤è¿‡ä»£ç ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–åŸç”Ÿdomæ“ä½œ
- å¯¹æ–¹åœ¨æ§åˆ¶å°åšäº†domæ“ä½œï¼Ÿä¸å¯èƒ½ï¼Œæ— æŠ€æœ¯èƒŒæ™¯
- é‚£åªèƒ½æ˜¯æµè§ˆå™¨æ’ä»¶ã€ä¸­é—´äººåŠ«æŒæ³¨å…¥è„šæœ¬(åŸºæœ¬ä¸å¯èƒ½ä¼˜å…ˆçº§è°ƒæœ€ä½)ã€ç¿»è¯‘
- å¿˜äº†ä¸Šæ¬¡æ‰“æ–­ç‚¹çš„äº‹æƒ…å§ï¼ŒæŠ•æœºå–å·§ä¸å¯é 

ä¸Šæ¬¡çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œç›´æ¥è¿œç¨‹æ§åˆ¶æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚äºæ˜¯é©¬ä¸Šè¿ä¸Šäº†è¿œç¨‹æ§åˆ¶ã€‚æ£€æŸ¥äº†ä¸€ä¸‹æµè§ˆå™¨æ’ä»¶ï¼Œé™¤äº†byte searchæ²¡æœ‰å…¶ä»–æ’ä»¶â€”â€”æµè§ˆå™¨æ’ä»¶passã€‚ç¡®è®¤ä¸€ä¸‹æ˜¯å¦ç¿»è¯‘ï¼Œé—®äº†å¯¹æ–¹è¯´æœ‰æ²¡æœ‰å¼€äº†ç¿»è¯‘ï¼Œå¯¹æ–¹è¯´æ²¡æœ‰(è¿œç¨‹æ¡Œé¢çœ‹ä¸è§å¼¹å‡ºèœå•çš„ï¼Œæ‰€ä»¥éœ€è¦äººå®¶å‘Šè¯‰æˆ‘)

okï¼Œäººå®¶è¯´æ²¡æœ‰ç¿»è¯‘ï¼Œé‚£æˆ‘å°±å‡è®¾è¿™æ˜¯å®è¯ã€‚æ—¢ç„¶é—®é¢˜å‘ç”Ÿçš„æ ¹æœ¬åŸå› å°±æ˜¯**æœ‰reactä¹‹å¤–çš„åŸç”Ÿdomæ“ä½œ**ï¼Œé‚£å°±æ˜¯domèŠ‚ç‚¹æ•°å¾ˆæœ‰å¯èƒ½ä¸ä¸€æ ·ã€‚äºæ˜¯æˆ‘åœ¨æ§åˆ¶å°è¾“å…¥äº†ä¸€ä¸‹`$$('*')`ï¼Œå‘ç°å¯¹æ–¹ç”µè„‘ä¸Šæ˜¯2400ä¸ªèŠ‚ç‚¹ã€‚åœ¨æˆ‘ç”µè„‘ä¸Šè¾“ä¸€ä¸‹ï¼Œåªæœ‰2000ä¸ªèŠ‚ç‚¹ã€‚è®©åŒäº‹å¸®å¿™çœ‹çœ‹ï¼Œä¸€æ ·ä¹Ÿæ˜¯2000ä¸ªèŠ‚ç‚¹ã€‚äºæ˜¯æˆ‘å†³å®šå¯¹æ¯”ä¸€ä¸‹ç¬¬ä¸€ä¸ªä¸ä¸€æ ·çš„èŠ‚ç‚¹æ˜¯æ€æ ·çš„ï¼Œåœ¨å¯¹æ–¹çš„ç”µè„‘æ§åˆ¶å°ä¸Šè¾“äº†ä¸€æ®µç®€å•çš„è„šæœ¬ï¼š
```js
$$('*').reduce((acc, { tagName }) => `${acc}${tagName},`, '')
```

> æˆ‘ï¼š"could you please copy the txt and send me"

äºæ˜¯æˆ‘æ‹¿åˆ°äº†ç”¨æˆ·æ•´ä¸ªé¡µé¢æ‰€æœ‰çš„æ ‡ç­¾å­—ç¬¦ä¸²é›†åˆï¼Œåœ¨æˆ‘æ‰“å¼€çš„é¡µé¢çš„æ§åˆ¶å°ä¸‹ï¼Œå’Œæˆ‘çš„å¯¹æ¯”ä¸€ä¸‹:

```js
var arr = otherHtml.split(',')
$$('*').findIndex(({ tagName }, i) => tagName !== arr[i])
```
å‘ç°indexä¸º103ï¼Œæ‰¾åˆ°ç¬¬103ä¸ªèŠ‚ç‚¹ï¼Œå‘ç°æ˜¯ä¸€ä¸ªlinkæ ‡ç­¾ï¼Œå¼•å…¥äº†`translate.googleapis.com`ä¸‹çš„ä¸€ä¸ªcssï¼Œè€Œä¸”htmlè¿™ä¸ªæ ‡ç­¾å¤šäº†ä¸€ä¸ªå«åš`translated-ltr`çš„classã€‚é¡¾åæ€ä¹‰ï¼Œç¿»è¯‘å®é”¤äº†

![](//tosv.byted.org/obj/tech/images/1591206033892_b67b619f9f8fed504d4013d5abda2600.png)

äºæ˜¯ï¼Œå†ç»§ç»­å±•å¼€ä¸»å†…å®¹ï¼Œå‘ç°å¯¹æ–¹çš„é¡µé¢ä¸Šå¤šäº†å¾ˆå¤š`font`æ ‡ç­¾ï¼ï¼

æœç„¶ï¼Œè¿˜æ˜¯å¼€äº†ç¿»è¯‘ï¼Œåªæ˜¯äººå®¶â€œè§‰å¾—æ²¡æœ‰å¼€â€ã€‚å…¶å®ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯ä¹‹å‰è®¾ç½®äº†ä¸€å¾‹ç¿»è¯‘ï¼Œæ‰€ä»¥åé¢å°±ä¸€ç›´ä¸ç”¨ç®¡ï¼Œæ‰€æœ‰çš„ç½‘ç«™éƒ½ä¼šè‡ªåŠ¨ç¿»è¯‘ã€‚æ¥ç€è®©ç”¨æˆ·æŒ‰ç…§æˆ‘çš„è¦æ±‚ï¼Œå°†ç¿»è¯‘å…³æ‰ã€‚æœ€åï¼Œå¤šæ¬¡é‡å¤çš„æ“ä½œï¼Œé—®é¢˜ä¹Ÿæ²¡æœ‰å‡ºç°äº†

å…¶å®ï¼Œä¼°è®¡ä¹‹å‰å¤§å®¶éƒ½æ˜¯è„šæ‰‹æ¶ä¸€æŠŠåˆ·ï¼Œå¹¶æ²¡æœ‰æ³¨æ„åˆ°htmlçš„langçš„å€¼ï¼Œè€Œä¸”æˆ‘ä»¬è¿™ä¸ªç³»ç»Ÿéƒ½æ˜¯è‹±æ–‡çš„ã€‚äºæ˜¯å‡ºç°äº†ä¸€ä¸ªæ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯è‹±æ–‡çš„â€œä¸­æ–‡â€é¡µé¢ï¼Œåˆ°äº†æµ·å¤–Chromeç¿»è¯‘çš„é€»è¾‘å°±æ˜¯ï¼Œè¿™æ˜¯â€œä¸­æ–‡â€é¡µé¢ï¼Œéœ€è¦è‡ªåŠ¨ç¿»è¯‘ï¼Œç„¶åå°±â€œè‹±æ–‡ç¿»è¯‘æˆè‹±æ–‡â€ï¼Œè§†è§‰ä¸Šæ— å˜åŒ–ï¼Œå®é™…ä¸ŠdomèŠ‚ç‚¹å·²ç»å¤šäº†å¾ˆå¤š`font`äº†
```html
<html lang="zh-cn">
```

# ä¸ºä»€ä¹ˆä¸Šæ¬¡æ‰“æ–­ç‚¹å°±æ²¡äº‹
äºæ˜¯æˆ‘è¿˜æ˜¯æƒ³çœ‹çœ‹ä¸ºä»€ä¹ˆä¸Šæ¬¡æ‰“æ–­ç‚¹å°±æ²¡äº‹äº†ï¼Œæ‰“å¼€[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Wiki)è¯•ä¸€ä¸‹ï¼Œåœ¨å¼€å¯äº†ç¿»è¯‘çš„æ¡ä»¶ä¸‹æ‰“æ–­ç‚¹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æ‰“å¼€sourceé¢æ¿ï¼Œå‹¾é€‰äº†loadäº‹ä»¶
![](//tosv.byted.org/obj/tech/images/1591206531071_571df310b5f002fc6064fc38e0e4c0ad.png)

> è‡ªåŠ¨ç¿»è¯‘ä¹Ÿå¼€å¯

![](//tosv.byted.org/obj/tech/images/1591206560792_59493be0773f8582616aeb6b25ea2966.png)

åˆ·æ–°é¡µé¢ï¼Œå‘ç°ä¸€è¿›æ¥çš„æ—¶å€™ï¼Œä¸€åˆ‡å®‰å¥½ï¼Œhtmlæ ‡ç­¾æ˜¯è¿™æ ·
```html
<html class="client-js" lang="en" dir="ltr">
```

ç‚¹äº†ä¸¤ä¸‹ä¸‹ä¸€æ­¥çš„æ—¶å€™ï¼Œhtmlæ ‡ç­¾å‘ç”Ÿäº†å˜åŒ–
```html
<html class="client-js translated-ltr ve-not-available" lang="zh-CN" dir="ltr">
```
å†çœ‹çœ‹elementé¢æ¿ï¼Œå¾ˆå¤šfontåŒ…è£¹
![](//tosv.byted.org/obj/tech/images/1591208189623_9cd71e798986c434f537c55131654de4.png)
å®é™…ä¸Šè¿™å°±æ˜¯ä¸€ä¸ªé¡µé¢loadæˆåŠŸåï¼ŒChromeçš„ç¿»è¯‘åŠŸèƒ½å»æ‹‰csså’Œjså›æ¥ã€ä¿®æ”¹é¡µé¢å†…å®¹çš„è¿‡ç¨‹ã€‚å¤ç›˜ä¸€ä¸‹ä¸Šæ¬¡èƒ½è§£å†³é—®é¢˜çš„æ–­ç‚¹æ“ä½œï¼š
- æˆ‘åœ¨æŠ¥é”™çš„å‘ç”Ÿå‰æœ€åä¸€ä¸ªæ¥å£çš„è¿”å›æ‰“äº†æ–­ç‚¹ï¼Œå‹¾é€‰äº†erroräº‹ä»¶çš„æ–­ç‚¹
- é¡µé¢è¿›æ¥ï¼Œæœ‰ä¸€ä¸ªcorsæŠ¥é”™ï¼Œerrorå¡ä½ã€‚æ­¤æ—¶å·²ç»æœ‰è¯·æ±‚å‡ºå»äº†ï¼Œæ–­ç‚¹å¡ä¸€ä¸‹äº‰å–åˆ°äº†æ—¶é—´(ä½ çœ‹èµ·æ¥æ˜¯pendingï¼Œå®é™…ä¸Šresponseå·²ç»åˆ°ä½ å®¶é—¨å£äº†)
- å†ç‚¹ä¸‹ä¸€æ­¥ï¼Œå‰é¢çš„æ•°æ®ç§’å‡ºï¼Œä¸€ç¬é—´åˆå¡äº†ï¼Œå› ä¸ºæœ€åä¸€ä¸ªæ¥å£ä¹Ÿå›æ¥äº†
- æ­¤æ—¶è¿˜æ²¡åˆ°æ‹‰ç¿»è¯‘èµ„æºçš„æ—¶å€™ï¼Œä½†é¡µé¢å·²ç»å±•ç¤ºå®Œæ•´ã€‚æˆ‘ç‚¹ä¸€ä¸‹æŒ‰é’®ï¼ŒæˆåŠŸè¶Šè¿‡ç¿»è¯‘å¯¼è‡´çš„é¡µé¢å…ƒç´ é”™ä¹±ã€‚è¿™æ˜¯ä¸€ä¸ªåˆ›å»ºæŒ‰é’®ï¼Œåˆ›å»ºæˆåŠŸäº†åé¢å°±æ˜¯ç”¨æˆ·è‡ªå·±æ“ä½œäº†
- å› ä¸ºåˆ›å»ºæ˜¯é¢‘ç‡ç¨å¾®ä½ä¸€äº›çš„è¡Œä¸ºï¼Œæ‰€ä»¥å‡ å¤©å†…å†æ— æ”¶åˆ°åé¦ˆ
- å‡ºç°é—®é¢˜é€šå¸¸æ˜¯setstateååˆ æ‰æŸä¸ªå…ƒç´ ï¼Œé‚£ä¸ªå…ƒç´ è¿½æº¯ä¸åˆ°æŠ¥é”™äº†ã€‚è¿™é‡Œç‚¹äº†æŒ‰é’®çš„ç¡®æ˜¯ä¼šåˆ æ‰æŒ‰é’®å¹¶åˆ‡æ¢é¡µé¢å†…å®¹

# çœ‹çœ‹reactå…·ä½“æ€æ ·æ‰ä¼šæŠ¥é”™
ç»§ç»­æ¥ä½œæ­»ï¼Œä¸€èµ·çœ‹çœ‹æ€ä¹ˆæ ·æ‰èƒ½æŠŠreactç©å

```jsx

const { useState, useLayoutEffect } = React;
export default function App() {
  useLayoutEffect(() => {
    const font = document.createElement("font");
    const app = document.querySelector(".App");
    // åˆ¶é€ fontåŒ…è£¹çš„æ•ˆæœï¼Œæ¨¡æ‹Ÿç¿»è¯‘çš„æ•ˆæœï¼Œç ´ååŸæœ‰ç»“æ„
    while (app.firstChild) {
      font.appendChild(app.firstChild);
    }
    app.appendChild(font);
    setTimeout(() => {
    // setä¸ªstateçœ‹çœ‹
      setShow(false);
    }, 1000);
  }, []);
  const [show, setShow] = useState(true);
  return (
    <div className="App">
      <h1>Hello CodeSandbox</h1>
      {show && (
        <>
          123123
          <h2>Start editing to see some magic happen!</h2>
        </>
      )}
    </div>
  );
}

```
é¢„æœŸæ•ˆæœå‡ºç°äº†ï¼š
![](//tosv.byted.org/obj/tech/images/1591208284093_bd2b22195c00462f45e166e5eb5c7e1f.png)

å…¶å®ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨æ”¹ï¼Œä½ åªéœ€è¦å¼€å¯ç¿»è¯‘ä¸ºä¸­æ–‡å°±å¯ä»¥å¤ç°äº†ã€‚é—®é¢˜æ ¹æºåœ¨äºreactæå‰æŠŠparentNodeå­˜èµ·æ¥äº†ï¼Œæ‰€ä»¥æ“ä½œçš„æ—¶å€™æ‰¾ä¸åˆ°å­èŠ‚ç‚¹
![](//tosv.byted.org/obj/tech/images/1591288576505_eda6ec43e1447ccc4fcb9e73ee2f6afc.png)

# è§£å†³æ–¹æ³•
## é”™è¯¯è¾¹ç•Œç»„ä»¶
åˆ©ç”¨reactçš„ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ¥æ„ŸçŸ¥ç¿»è¯‘é”™è¯¯ï¼Œç„¶åå±•ç¤ºå…œåº•uiï¼Œæç¤ºç”¨æˆ·å…³æ‰ç¿»è¯‘ã€‚å¹¶ç»™å‡ºæ“ä½œæ–‡æ¡£é“¾æ¥ã€‚ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦ç”¨TranslateErrorBoundaryåŒ…ä¸€ä¸‹ç»„ä»¶å³å¯
```jsx
class TranslateErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { translateError: false };
  }

  static getDerivedStateFromError() {
    if (document.documentElement.classList.contains("translated-ltr")) {
      return { translateError: true };
    }
  }

  componentDidCatch(e, info) {
  // ä¸ŠæŠ¥ç¿»è¯‘é”™è¯¯
    report(e, info);
  }

  render() {
    if (this.state.translateError) {
      return (
        <>
          <strong>
            translate error! you' d better to turn your google-translate off and reload. see
          </strong>
          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://support.google.com/chrome/answer/173424?co=GENIE.Platform%3DDesktop&hl=en"
          >
            https://support.google.com/chrome/answer/173424?co=GENIE.Platform%3DDesktop&hl=en
          </a>
        </>
      );
    }
    return this.props.children;
  }
}
```

## ä¸è¦è®©ä¸€å—å¯åˆ æ”¹çš„reactå…ƒç´ æœ€å¤–å±‚å­˜åœ¨æ–‡æœ¬èŠ‚ç‚¹
è¯ä¸å¤šè¯´ï¼Œçœ‹ğŸŒ°
```jsx
<div className="App">
  <h1>Hello CodeSandbox</h1>
  {show && (
    <>
      123123
      <h2>Start editing to see some magic happen!</h2>
    </>
  )}
</div>

```

è¿™ä¸€å—ï¼Œæœ‰æœ€å¤–å±‚çš„123123æ–‡æœ¬èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç¿»è¯‘äº†ä¼šæŠ¥é”™:
```jsx
{show && (
  <>
    123123
    <h2>Start editing to see some magic happen!</h2>
  </>
)}
```
ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…ˆçœ‹çœ‹ç¿»è¯‘åç»“æœï¼Œå‘ç°åŸæœ¬æƒ³åˆ çš„èŠ‚ç‚¹æ˜¯"123123"ï¼Œè€Œä»–çˆ¶èŠ‚ç‚¹å´å†ä¹Ÿæ‰¾ä¸åˆ°å®ƒäº†
```jsx
{show && (
  <>
    <font><font>123123</font></font>
    <h2><font><font>Start editing to see some magic happen!</font></font></h2>
  </>
)}

```
æ”¹æ­£æªæ–½: åŠ ä¸Šspanæ ‡ç­¾ï¼Œä¸è¦è®©123123è£¸éœ²
```jsx
{show && (
  <>
    <span>123123</span>
    <h2>Start editing to see some magic happen!</h2>
  </>
  )
}
// ç¿»è¯‘å

{show && (
  <>
    <span><font><font>123123</font></font></span>
    <h2><font><font>Start editing to see some magic happen!</font></font></h2>
  </>
  )
}
```
å› ä¸ºæœ€å¤–å±‚çš„æ˜¯spanï¼Œæ‰€ä»¥å³ä½¿åŠ äº†fontï¼Œä¹Ÿæ˜¯åœ¨spanå†…éƒ¨åŠ äº†ï¼Œåˆ é™¤å…ƒç´ çš„æ—¶å€™æ‰¾çš„æ˜¯spanï¼Œéƒ½ä¸ä¼šå‡ºé—®é¢˜

å†çœ‹ä¸€ä¸ªğŸŒ°
```jsx
  <div>
    {label !== undefined ? (
      <div>
        {label}
      </div>
    ) : null}
    {children}
  </div>
```
ç»è¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½çŸ¥é“`{label}`é‚£é‡Œè¦å¥—ä¸€ä¸ªspanäº†ã€‚ä½†æ˜¯è¿™è¿˜æ˜¯æœ‰é£é™©ï¼šå¦‚æœè¿™ä¸ªç»„ä»¶å¯¹å¤–éƒ¨ä½¿ç”¨ï¼Œå¤–éƒ¨é childrenä¼ è¿›æ¥ï¼Œæ„å‘³ç€childrençš„å†…å®¹æ˜¯å¤šå˜çš„ï¼Œæ¯”å¦‚ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²è¿›æ¥ï¼Œsetstateåæ˜¯ä¸€ä¸ªå…¶ä»–èŠ‚ç‚¹ï¼Œé‚£ä¹ˆé—®é¢˜å†æ¬¡å‡ºç°ï¼ˆ

> é”™è¯¯æ¡ä»¶å†æ¬¡é‡å¤ä¸€éï¼š**ä¸€å—å¯åˆ æ”¹çš„reactå…ƒç´ æœ€å¤–å±‚å­˜åœ¨æ–‡æœ¬èŠ‚ç‚¹**ã€‚æ­¤æ—¶childrenæ˜¯ä¸€å—å…ƒç´ ï¼Œè€Œä¸”æ˜¯å¯å˜çš„ï¼Œæœ€å¤–å±‚å°±æ˜¯childrenè¿™ä¸ªå¯¹è±¡çš„æœ€å¤–å±‚æ‰€æœ‰èŠ‚ç‚¹ï¼Œå…¶ä¸­å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤æ»¡è¶³å‡ºé”™æ¡ä»¶

ä¾‹å¦‚childrenæ˜¯æ–‡æœ¬èŠ‚ç‚¹`textNode1`ï¼Œé‚£ä¹ˆæ­£å¸¸æƒ…å†µä¸‹setstateåå¦‚æœchildrenå‘ç”Ÿå˜åŒ–ï¼Œåˆ æ‰`textNode1`çš„æ–¹å¼å°±æ˜¯`textNode1ParentNode.removeChild(textNode1)`ã€‚å¦‚æœç¿»è¯‘äº†ï¼Œæ–‡æœ¬èŠ‚ç‚¹åŒ…äº†ä¸¤å±‚fontï¼Œé‚£ä¹ˆ`textNode1`å†ä¹Ÿä¸æ˜¯`textNode1ParentNode`çš„å­èŠ‚ç‚¹äº†ï¼Œå› æ­¤æŠ¥é”™ã€‚æ­¤å¤–ï¼Œå³ä½¿æŠŠå¤–å±‚divæ¢æˆspanã€sectionã€articleåŒç†ï¼Œéƒ½ä¼šæŠ¥é”™

> æ¨è®ºï¼šä¸è¦åœ¨ä»»ä½•å…ƒç´ ä¸‹ç›´æ¥è£¸éœ²å¯å˜æ–‡æœ¬èŠ‚ç‚¹

ä»£ç éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œåƒ`props.children`è¿™ç§é‚£ä¹ˆçµæ´»çš„ï¼Œå°¤å…¶æ˜¯è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯å¯èƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹çš„æœ€å¥½åŒ…ä¸€ä¸ªspanï¼Œç¡®è®¤æ²¡æœ‰çš„å°±å¯ä»¥ä¸ç”¨åŒ…ï¼Œé˜²æ­¢å¤–å›½ç”¨æˆ·ç¿»è¯‘åæºç æŠ¥é”™ã€‚å…¶å®å¯ä»¥å†™ä¸€ä¸ªå·¥å…·ï¼Œæ‰«ä¸€ä¸‹astï¼Œå‘ç°æœ‰è£¸éœ²æ–‡æœ¬èŠ‚ç‚¹çš„è‡ªåŠ¨åŒ…ä¸€å±‚span


# æ€»ç»“
- ä½¿ç”¨æ•°æ®é©±åŠ¨è§†å›¾çš„æ¡†æ¶å¦‚reactã€vueï¼Œå¦‚æœé‡åˆ°æºç æŠ¥é”™ï¼Œè€ƒè™‘ä¸€ä¸‹æ˜¯ä¸æ˜¯æœ‰åŸç”Ÿdomæ“ä½œæ‰“ä¹±äº†
- å¦‚æœç¡®è®¤ä¸æ˜¯åŸç”Ÿdomæ“ä½œå¯¼è‡´ï¼Œè€ƒè™‘ä¸€ä¸‹æµè§ˆå™¨æ’ä»¶ã€ç¿»è¯‘
- ç¡®å®éœ€è¦åœ¨reactã€vueä¸­ä½¿ç”¨åŸç”Ÿæ“ä½œï¼Œéœ€è¦è€ƒè™‘åˆ°è¿™ä¸ªéšæ‚£
- å›½é™…åŒ–çš„ä¸šåŠ¡ï¼Œå¦‚æœå‡ºç°è¿™ç§é—®é¢˜ï¼Œå»ºè®®é¦–å…ˆä»æµè§ˆå™¨ç¿»è¯‘å¼€å§‹æ’æŸ¥
- ä¸è¦è®©ä¸€å—å¯åˆ æ”¹çš„reactå…ƒç´ æœ€å¤–å±‚å­˜åœ¨æ–‡æœ¬èŠ‚ç‚¹ï¼Œç¡®è®¤ä¼šæœ‰å¯å˜æ–‡æœ¬èŠ‚ç‚¹ï¼Œéœ€è¦å¥—ä¸€å±‚span